# ============================================
# RYBBIT ANALYTICS - COOLIFY DEPLOYMENT
# Environment Variables Configuration
# ============================================

# ============================================
# DOMAIN CONFIGURATION
# ============================================
# Your main domain for the application
BASE_URL=https://app.metricslab.io

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate a secure random secret with: openssl rand -base64 32
# This is CRITICAL for security - change this!
BETTER_AUTH_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-32-CHARS-MIN

# Disable public signups (set to true to require invitations only)
DISABLE_SIGNUP=false

# Disable anonymous telemetry to Rybbit (optional)
DISABLE_TELEMETRY=true

# ============================================
# CLICKHOUSE DATABASE
# ============================================
# Internal hostname in Coolify (will be the service name you create)
CLICKHOUSE_HOST=http://clickhouse:8123
CLICKHOUSE_DB=analytics
CLICKHOUSE_USER=default
# Generate secure password with: openssl rand -base64 24
CLICKHOUSE_PASSWORD=CHANGE-THIS-SECURE-CLICKHOUSE-PASSWORD

# ============================================
# POSTGRESQL DATABASE
# ============================================
# Internal hostname in Coolify (will be the service name you create)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=analytics
POSTGRES_USER=rybbit
# Generate secure password with: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE-THIS-SECURE-POSTGRES-PASSWORD

# ============================================
# REDIS (OPTIONAL - for job queues in cloud mode)
# ============================================
# Leave empty if not using Redis
REDIS_HOST=
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# EXTERNAL SERVICES (OPTIONAL)
# ============================================

# Mapbox for 3D globe visualization
# Get token at: https://account.mapbox.com/access-tokens/
MAPBOX_TOKEN=

# Google OAuth (for Sign in with Google)
# Get credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth (for Sign in with GitHub)
# Get credentials at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Resend for email notifications (invitations, password reset, etc.)
# Get API key at: https://resend.com/api-keys
RESEND_API_KEY=

# Email "from" address for system emails
RESEND_FROM_EMAIL=noreply@metricslab.io

# ============================================
# STRIPE (OPTIONAL - for paid plans)
# ============================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# R2/S3 STORAGE (OPTIONAL - for session replays)
# ============================================
# If not configured, session replays will be stored in ClickHouse
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=
R2_PUBLIC_URL=

# ============================================
# AXIOM LOGGING (OPTIONAL - for cloud logging)
# ============================================
AXIOM_DATASET=
AXIOM_TOKEN=

# ============================================
# NEXTJS CLIENT CONFIGURATION
# ============================================
# These must match BASE_URL and DISABLE_SIGNUP above
NEXT_PUBLIC_BACKEND_URL=https://app.metricslab.io
NEXT_PUBLIC_DISABLE_SIGNUP=false

# Set to true only if running Rybbit Cloud version
NEXT_PUBLIC_CLOUD=false

# Cloudflare Turnstile (for bot protection - optional)
NEXT_PUBLIC_TURNSTILE_SITE_KEY=

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV=production
